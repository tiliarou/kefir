---
title: Kefir
permalink: /kefir.html
author_profile: true
---
{% include toc title="Разделы" %}

## KEFIR {% include /inc/kefir/version %}

![kefir](/images/kefir.png){: width="70%"}
{: .text-center}

### Что такое кефир

**Кефир** - это сборник, состоящий из прошивки (Atmosphere или SX OS на выбор) и необходимого минимума рекомендуемых программ, плагинов, модулей и другого софта. Подробнее о составе кефира ниже

{% spoiler Зачем нужен кефир? %}

В первую очередь, кефир нужен для того чтобы упростить жизнь пользователя. То есть, если у пользователя стоит рекомендуемая версия системного ПО и последняя версия кефира, то всё должно у него работать. Можно сказать, что пользователь находится в контролируемых условиях. Достаточно назвать версию системного ПО и кефира и сразу становится понятно что примерно установлено в системе. 

{% endspoiler %}

{% spoiler Состав кефира %}

1. **[Кастомная прошивка](cfw){:target="_blank"}**. Вы можете выбрать один из двух вариантов - **[Atmosphere](https://github.com/Atmosphere-NX/Atmosphere/releases/){:target="_blank"}** или **[SX OS](https://sx.xecuter.com){:target="_blank"}**, или даже поставить сразу обе и переключаться между ними при перезагрузке.
2. **[Сигпатчи](https://gbatemp.net/threads/latest-fs-and-acid-patches-for-kosmos.562915/){:target="_blank"}**. Благодаря сигпатчам на Atmosphere можно запускать неподписанные (читай: *пиратские*) приложения и игры. В SX OS сигпатчи встроены по-умолчанию, но не доступны в бесплатной версии прошивки
3. **Загрузчик [hekate](https://github.com/CTCaer/hekate/releases/latest){:target="_blank"}**. Благодаря загрузчику вы можете запускать прошивку и другие {% include abbr/payload.txt abbr="пейлоады" %} через удобное меню, создавать и восстанавливать резервную копию NAND, делать EmuNAND, получать информацию о состоянии системы, монтировать карту памяти к ПК без вытаскивания её из свитча, делать переразметку карты памяти для установки других ОС и многое другое
4. **Установленные {% include abbr/payload.txt abbr="пейлоады" %}**:
  * [Lockpick_RCM](https://github.com/shchmue/Lockpick_RCM/releases/latest){:target="_blank"} - программа для [дампа ключей приставки](backup-nand#часть-iii---дампим-ключи){:target="_blank"}
  * **Incognoto_RCM** - программа, стирающая серийный номер приставки, чтобы [заблокировать обновления и спрятать консоль от Nintendo](https://switch.customfw.xyz/block-update){:target="_blank"}
5. **Установленное Homebrew**
  * DBI - программа для [установки игр](games){:target="_blank"} по USB или с карты памяти
  * [{% include /inc/tinfoil.txt %}](http://tinfoil.io){:target="_blank"} - программа, позволяющая [качать игры](tinfoil){:target="_blank"} для приставки прямо из сети 
  * [FreshHay](https://github.com/devgru/FreshHay/releases){:target="_blank"} - программа для скачивания и распаковки рекомендуемой версии системного ПО прямо на приставке
  * [NX-Shell](https://github.com/joel16/NX-Shell/releases/latest){:target="_blank"} - файловый менеджер
  * [NX-Activity-Log](https://github.com/tallbl0nde/NX-Activity-Log/releases/latest){:target="_blank"} - программа, позволяющая отслеживать время, проведённое в играх
  * [JKSV](https://github.com/J-D-K/JKSV/releases){:target="_blank"} - программа для резервного копирования и восстановления сейвов
  * [Kefir Updater](https://github.com/rashevskyv/kefir-updater/releases){:target="_blank"} - программа для обновления kefir через интернет
  * [pplay](https://github.com/Cpasjuste/pplay/releases/latest){:target="_blank"} - видеоплеер 
  * [ChoiDujourNX](https://switchtools.sshnuke.net/){:target="_blank"} - программа для [безопасного обновления](update-to-latest){:target="_blank"} версии системного ПО приставки
  * [NXThemes Installer](https://github.com/exelix11/SwitchThemeInjector/releases/latest){:target="_blank"} - менеджер кастомных тем 
  * [switch-cheats-updater](https://github.com/HamletDuFromage/switch-cheats-updater/releases){:target="_blank"} - программа для закачки [читов](cheats){:target="_blank"} для установленных игр.
  * Link Account - программа [привязки аккаунта](link-account){:target="_blank"}, а так же для форматирования приставки
6. **Установленные модули**. Модули - это дополнительные компоненты, работающие внутри Atmosphere и позволяющие делать разные крутые штуки, как-то использование xbox-сoвместимых контроллеров, эмуляцию amiibo, разгон и прочее. К сожалению, SX OS модули не поддерживает
  * [sys-con](https://github.com/cathery/sys-con/releases/latest){:target="_blank"} - модуль, позволяющий подключать к консоли по USB практически любые геймпады
  * [Tesla Overlay Menu](https://gbatemp.net/threads/tesla-the-nintendo-switch-overlay-menu.557362/){:target="_blank"} - специальное оверлей-меню для взаимодействия с системой
    - [ovlEdiZon.ovl](https://gbatemp.net/threads/tesla-the-nintendo-switch-overlay-menu.557362/){:target="_blank"} - Модуль для [использования читов](cheats){:target="_blank"}
    - [ovlSysmodules.ovl](https://github.com/WerWolv/ovl-sysmodules/releases){:target="_blank"} - Модуль для включения и отключения установленных системных модулей (как-то разгон, emuuibo и прочее)

{% endspoiler %}

### Инструкция по установке kefir 
{% spoiler Инструкции по автоматической установке (только для Windows) %}

1. Скачайте свежий {% include abbr/kefir_git.txt %} (файл `_kefir.7z`)
1. Распакуйте `_kefir.7z` в любое удобное место на ПК
1. **Вставьте в ПК** карту памяти приставки
1. Запустите `install.bat` из папки, в которую вы распаковали `_kefir.7z` и внимательно читайте всё, что написано на экране 
1. Вводите ответы, соответствующие вашей ситуации
    * Если вы используете **Caffeine**, не забудьте выбрать его в опциях установщика
1. Дождитесь окончания копирования
1. Продолжайте следовать руководству
{% endspoiler %}

{% spoiler Инструкция по установке вручную (все ОС) %}

### Подключение карты памяти приставки к ПК: 

1. **Смонтировав карту памяти через hekate**
	1. Перезагрузите приставку через меню, вызываемое удерживанием кнопки (POWER) 
	1. На сплеш-скрине кефира нажмите кнопку понижения громкости, чтобы попасть в hekate 
	{% include inc/mount_sd.md %}
	1. Как закончите, [безопасно извлеките](https://ru.wikipedia.org/wiki/Безопасное_извлечение_устройства){:target="_blank"} вашу карту памяти из ПК (устройство будет называться "**UMS**") и нажмите в hekate "**Close**"
1. **С помощью DBI**
	1. Запустите DBI через [HBL](hbl){:target="_blank"}
	1. Подключите консоль к ПК по USB-кабелю 
	1. В DBI выберите пункт "**Run MTP Responder**"
	1. На ПК смонтируется новое устройство - **Switch**, папка "**External SD card**" и есть ваша карта памяти 
		* Помните, по MTP можно перекинуть файлы только вручную. Автоматическая установка по MTP невозможна. 

### Удаление файлов старых прошивок

1. Если вы использовали пользовательские модификации, читы или переводы, переместите папку `titles` из папки `SX OS` или `atmosphere` (название папки зависит от вашей прошивки) в корень карты памяти. Если не использовали, пропустите эту часть
1. Удалите из папки `titles` папки со следующими названиями (если они там есть): 
  * `010000000000100D`
  * `0100000000000032`
  * `0100000000000034`
  * `0100000000000036`
  * `010000000000000D`
  * `420000000000000E`
  * `0100000000001000`
  * `0100000000000352`
  * `4200000000000010`
  * `010000000007E51A`
1. Удалите из корня вашей карты памяти все папки, кроме папок `titles`, `SX OS`, `emuMMC` и `Nintendo`, если таковые там есть

### Для установки Atmosphere

1. Скопируйте в корень карты памяти приставки **содержимое** архива `atmo.zip` из репозитория {% include /abbr/kefir_addr.txt %}
1. Переместите папку `titles` из корня карты памяти в папку `atmosphere`
1. Переименуйте папку `titles` в `contents`
   * Саму папку, а не её содержимое
1. Исправьте атрибуты по инструкции ниже 
1. enjoy

### Для установки SX OS

1. Скопируйте в корень карты памяти приставки **содержимое** архива `sxos.zip` репозитория {% include /abbr/kefir_addr.txt %}
1. Переместите папку `titles` из корня карты памяти в папку `SX OS`
   * Саму папку, а не её содержимое
1. Исправьте атрибуты по инструкции ниже 
1. enjoy

### Исправление атрибутов

{% include inc/fixatributes.txt %}

{% endspoiler %}

{% spoiler Обновление кефира прямо на приставке %}


1. Запустите **NX Shell** через [HBL](hbl){:target="_blank"}
1. Перейдите в папку `atmosphere/contents` 
    * Если такой папки нет, перейдите в папку `atmosphere/titles` 
1. Удалите папки со следующими названиями (если они там есть): 
  * `010000000000100D`
  * `0100000000000032`
  * `0100000000000034`
  * `0100000000000036`
  * `010000000000000D`
  * `420000000000000E`
  * `0100000000001000`
  * `0100000000000352`
  * `4200000000000010`
  * `010000000007E51A`
1. Нажмите (Start), чтобы закрыть **NX Shell**
1. Выберите **Kefir Updater**
    * Требуется подключение к интернету!
1. Выберите ОС, которую используете
1. По окончанию установки, перезагрузите приставку

{% endspoiler %}

### **Важная информация!**
  * Перезагрузка в hekate происходит прямо из прошивки, через обычное меню перезагрузки. Просто зажмите (VOL-) во время сплешскрина кефира
  * Вы можете получить доступ к своей карте памяти не вынимая её из приставки по MTP (DBI -> Run MTP Responder), либо через hekate ({% include inc/sd_hekate.md %})
  * **На новых версиях Atmosphere изменился способ входа в Homebrew Menu. [Подробнее](hbl){:target="_blank"}**
  * Установка и обновление kefir проводятся одинаково!

____

### Изменения от прошлой версии

{% include /inc/kefir/changelog %}

____


___

[Закрыть страницу](javascript:window.close();)
{: .notice--success}