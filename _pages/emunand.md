---
permalink: /emunand.html
title: Установка EmuNAND
author_profile: true
---
{% include toc title="Разделы" %}
Для уже прошитых пользователей, которые хотят восстановить возможность играть онлайн на уже прошитой приставке, а пиратить исключительно в EmuNAND есть отдельная инструкция - [Переход на EmuNAND для уже прошитых](preparation-white){: target="blank_"}
{: .notice--info}

## Что нужно знать про EmuNAND

{% spoiler Что такое EmuNAND %}

**EmuNAND** - это копия системной прошивки, расположенная на карте памяти, из которой загружается система. Как правило, EmuNAND используется не один, а в связке с SysNAND. Обычно SysNAND используют для игры онлайн в купленные или официально скачанные из eShop игры. Если не запускать на SysNAND пиратку, то шанс, что его забанят крайне невысок. EmuNAND же наоборот, используют как раз для запуска пиратки. В нём специальным образом удаляют серийный номер приставки, так что даже при работающем интернет-подключении, Nintendo не может отследить что на приставке было запущено неавторизированное ПО. 
{% endspoiler %}

{% spoiler Зачем нам EmuNAND %}

### EmuNAND вам может понадобиться если...

* вы хотите играть онлайн в купленные\бесплатные игры. 
    * В таком случае вы будете загружаться в EmuNAND для игры в пиратку, а {% include abbr/sysnand.txt abbr="SysNAND" %} использовать исключительно для игры в лицензию. В этом случае шанс бана существенно ниже.
* вы используете {% include abbr/caffeine.txt abbr="Caffeine" %}
    * В таком случае у вас нет выбора и единственный способ прошить приставку - использовать EmuNAND 

В иных случаях EmuNAND не обязателен. То есть, если вы собираетесь просто играть в пиратку и вам не интересен онлайн, то от EmuNAND пользы не будет. 

Если вы очень хотите играть онлайн, но вас уже забанили, то EmuNAND вам не поможет. 
{: .notice--info}

{% endspoiler %}

{% spoiler Можно ли работать без EmuNAND %}
Да, вполне. Если вам не нужен онлайн и вы не используете {% include abbr/caffeine.txt abbr="Caffeine" %}, EmuNAND вам не понадобится. 
{% endspoiler %}

{% spoiler Сколько EmuNAND занимает места %}
Как правило, размер EmuNAND равен размеру внутренней памяти приставки, то есть 32Гб. Имейте ввиду, что для создания EmuNAND мы разделим вашу карту на два раздела, последний из которых будет содержать EmuNAND и не будет виден из системы (будет скрыт).
{% endspoiler %}

{% spoiler Подводные камни и недостатки использования EmuNAND %}
EmuNAND можно создать в виде отдельного раздела на карте памяти, либо в виде файлов. В гайде рассмотрен именно второй вариант. Почему, вы поймёте ниже. 

### EmuNAND на разделе 
* *Сложности с переносом на другую карту памяти* - требует расширенных знаний для работы с файловой системой, а так же ПК с установленным сторонним софтом
* *Сложности с бекаком на ПК* - требуется использование стороннего ПО
* *Занимает 32Гб не карте памяти* - размер EmuNAND создаётся равным размеру внутренней памяти приставки, потому размер вашей карты памяти будет на 32Гб меньше изначального.

### EmuNAND в виде файлов
* *Игры, установленные во внутреннюю память EmuNAND могут глючить* - возможно, со временем эта проблема будет решена в самой Atmosphere, мы же в гайде решим её по своему, создав EmuNAND на карте памяти всего лишь в 10Гб размером, таким образом размер внутренней памяти будет достаточен лишь для того, чтобы хранить данные самой консоли и пользовательские сохранения, а все игры будут устанавливаться на карту памяти.

Как вы можете заметить, минусов у файлового эмунанда заметно меньше. 

{% endspoiler %}

{% spoiler Как перенести EmuNAND на другую карту %}
Если EmuNAND сделан на отдельном разделе, то следует воспользоваться программой [EmuTool](https://gbatemp.net/threads/emutool-move-partition-emu-on-another-sd-switch-emu-type-on-sxos-and-more.550756/){: target="blank_"}. Если же EmuNAND создан в виде файлов (именно такой создаётся в процессе выполнения этого руководства), то он переносится простым копированием
{% endspoiler %}

{% spoiler Как сделать резервную копию EmuNAND на ПК %}
Для создания резервной копии EmuNAND достаточно просто скопировать на ПК папку `emummc`, если у вас Atmosphere или `sxos/emunand`, если у вас SX OS
{% endspoiler %}

Для запуска приставки в SysNAND мы всё равно будем использовать Atmosphere, чтобы защитить предохранители в случае случайного обновления прошивки. Это делается для того, чтобы вы всегда имели возможность откатиться на последнюю рабочую прошивку в том случае, если после случайного обновления кастом ещё не будет поддерживать новую версию системного ПО. Так же это сохранит AutoRCM, если он включён, после обновления прошивки через интернет. Atmosphere будет использована, даже если у вас SX OS, поскольку последний не умеет защищать предохранители после установки обновления через интернет. В запущенном таким образом SysNAND вы не сможете использовать пиратку, даже если очень захотите, однако [HBL](hbl){: target="blank_"} будет доступен, что позволит нам провести безопасное обновление прошивки. 

В данный момент ещё нет всех необходимый инструментов, чтобы запускать SysNAND без кастома и пользоваться всеми преимуществами, которые он даёт для безопасности при обновлении, сохранении фьюзов и прочее. Поэтому, если вы считаете, что запуск Atmosphere приведёт вас к бану (а в теории это не так, Atmosphere никак себя не выдаёт при правильном её использовании, хотя всякое конечно может быть), дождитесь других инструментов и не используйте онлайн! Если вам наплевать на предохранители, просто отключайте autorcm и запускайте приставку без Fusée Gelée.

После выполнения каждой инструкции из нижеследующего списка, возвращайтесь на эту страницу и переходите к следующему пункту. Если какие-то из действий вы уже выполняли, повторно их делать не нужно. 
{: .notice--warning}

## Подготовительные работы
1. Запустите приставку и **выберите светлую тему** в настройка Switch, а так же **переименуйте ваш аккаунт в "SysNAND"**
	* Это необходимо сделать для того, чтобы вы всегда могли визуально отличить EmuNAND от SysNAND.
	* Вы можете наоборот поставить тёмную тему в SYSNAND, а светлую в EmuNAND - это не имеет значения/ Главное, чтобы вы могли отличить оба раздела визуально. 
1. Вставьте карту памяти в ПК и скопируйте всё её содержимое на ПК 
    * Следующий шаг уничтожит все данные на вашей карте памяти, поэтому перенесите их на ПК
    * Все установленные на карту памяти игры находятся в папке `Nintendo`
    * Все сохранения находятся во внутренней памяти приставки и **не** будут удалены, даже в том случае, если вы проигнорируете этот шаг
1. [Отформатируйте вашу карту памяти в FAT32](http://customfw.xyz/format_sd){:target="_blank"}
    * Да, именно в FAT32. Нет, проблем с файлами больше 4Гб не будет
    * Делайте это даже в том случае, если ваша карта памяти не содержит данных
    * Делайте именно по этой инструкции

## Создание EmuNAND 

Для создания EmuNAND мы будем использовать бесплатную версию SX OS вне зависимости от того, какую CFW вы планируете использовать в дальнейшем. 
{: .notice--warning}

Перед созданием EmuNAND рекомендуется полностью очистить содержимое внутренней памяти приставки, а именно, удалить все игры из неё. 
{: .notice--warning}

План действия простой - создаём через SXOS во внутренней памяти приставки EmuNAND размером в 10ГБ и переносим его на карту памяти, после чего подключаем к Atmosphere. Таким образом размер EmuNAND у нас будет 10Гб. 

1. Установите **SX OS** с помощью {% include abbr/kefir_addr.txt %}, если ещё не сделали этого
    * Инструкция по установке находится в репозитории {% include abbr/kefir_addr.txt %} по ссылке
{% include inc/launch-cfw.txt %}
1. **Удерживайте (VOL+) при появлении сплешскрина SX OS**
1. Приставка должна загрузиться в загрузчик SX OS
	* Если загрузка зависла на белом экране, или в любом другом месте, перегрузите консоль, удерживая кнопку (POWER) 15 секунд и повторите запуск снова

1. Нажмите "**Options**" -> "**EmuNAND**" -> "**Create EmuNAND**" -> **Files on System Storage** -> **Advanced...**
1. Если вы хотите перенести свой профиль из SysNAND в EmuNAND, то убедитесь, что в пункте **Copy USER partition to EmuNAND** стоит **Yes**
    * В норме процесс создания эмунанда во внутренней памяти занимает не больше получаса. Если вы видите, что в вашем случае это не так, то вам придётся делать EmuANND через hekate. Как это сделать, [описано здесь](emunand_atmo). 
1. В пункте **Select EmuNAND Size** выберите **10GB**
    * Количество выбранных гигабайт напрямую влияет на количество свободного места во внутренней памяти EmuNAND. Если вы хотите использовать внутреннюю память для установки в неё игр, то выбирайте максимальное значение. 
    * Если при создании EmuNAND вы получаете ошибку, освободите больше места в NAND консоли (желательно вдвое больше, чем размер EmuNAND)
1. Нажмите кнопку **Done** -> **Continue** и дождитесь окончания создания EmuNAND 
    * Ошибка `Errorcode=FFFFFD63` говорит о том, что в NAND недостаточно свободного места для создания EmuNAND

Перейдите к настройке EmuNAND, выбрав спойлер ниже, в зависимости от того, какую кастомную прошивку вы будете использовать в дальнейшем. 

### Настройка EmuNAND

{% spoiler Настройка EmuNAND на Atmosphere %}

Вы продолжаете выполнять инструкцию, находясь в опциях SXOS
{: .notice--info}

1. Нажмите **Back**
1. Нажмите "**Options**" -> "**EmuNAND**" -> "**Move EmuNAND to microSD**" -> **Continue**
1. Дождитесь окончания переноса EmuNAND на карту памяти
    * В результате мы получим EmuNAND размером 10Гб на нашей карте памяти, чего с головой хватит для внутренних нужд самой приставки. А игры мы будем устанавливать на карту памяти, что работает весьма стабильно на Atmosphere с картами формата FAT32 
1. Нажмите **Back**
1. Нажмите "**Options**" -> "**EmuNAND**" -> "**Delete EmuNAND**" -> "**Files on System Storage**" -> **Continue**
1. Нажмите **Poweroff**, чтобы выключить приставку
1. Установите Atmosphere с помощью {% include abbr/kefir_addr.txt %}, если ещё не сделали этого
    * Инструкция по установке находится в репозитории {% include abbr/kefir_addr.txt %} по ссылке
{% include inc/launch-hekate.txt %}
1. Перейдите в раздел "**emuMMC**"

    ![](/images/screenshots/hekate/emummc.png)
	{: .text-center}

1. Выберите "**Migrate emuMMC**"

    ![](/images/screenshots/hekate/migrate.png)
	{: .text-center}

1. Нажмите "**Continue**"

    ![](/images/screenshots/hekate/migrate_continue.png)
	{: .text-center}

1. Нажмите "**Change emuMMC**"

    ![](/images/screenshots/hekate/change.png)
	{: .text-center}

1. Выберите созданный emuMMC в разделе **SD File Based**

    ![](/images/screenshots/hekate/sd_based.png)
	{: .text-center}

    * Если вы видите надпись "**Enabled**" в секции **emuMMC Info & Selection**, то всё сделано правильно и EmuNAND создан и правильно сконфигурирован, если видите "**Disabled**", то проделайте предыдущие два пункта ещё раз.

    ![](/images/screenshots/hekate/enabled.png)
    {: .text-center}

1. Нажмите "**Close**"

    ![](/images/screenshots/hekate/close.png)
    {: .text-center}

1. Нажмите "**Home**" для возвращения на стартовый экран hekate 
	
Вы можете создать несколько разделов EmuNAND таким же способом и переключаться между ними через раздел "**Change emuMMC**". Таким образом, например, можно создать второй emuMMC на приставка с Caffeine, обновить его официально и начать использовать на нём лицензию (да, играть онлайн тоже можно) и только её. Это относительно безопасный способ сесть на оба стула, впрочем, 100% гарантии того, что рано или поздно вас не забанят нет, хотя, по нашим сведениям, шанс бана при использовании официальной прошивки через EmuNAND, ничтожно мал. Для того, чтобы создать ещё один EmuNAND, следуйте инструкции на этой странице с самого начала.
{: .notice--info}

{% endspoiler %}

{% spoiler Настройка EmuNAND на SX OS %}
EmuNAND в SX OS не требует дополнительной настройки. 
{% endspoiler %}

### Запуск прошивки

{% spoiler Запуск EmuNAND %}

По-умолчанию кефир настроен таким образом, что при пробросе `payload.bin` из состава {% include abbr/kefir_addr.txt %}, Atmosphere будет загружать EmuNAND, если он есть и активирован. 

Если же вы находитесь в {% include abbr/hekate.txt abbr="hekate" %}, то просто перейдите в "**Launch**" и запустите "**Atmosphere**" или "**SXOS**"

{% endspoiler %}

{% spoiler Запуск SysNAND %}

### Запуск стока через Atmosphere 

Для запуска приставки в SysNAND мы всё равно будем использовать Atmosphere, чтобы защитить предохранители в случае случайного обновления прошивки. Это делается для того, чтобы вы всегда имели возможность откатиться на последнюю рабочую прошивку в том случае, если после случайного обновления кастом ещё не будет поддерживать новую версию системного ПО. Так же это сохранит AutoRCM, если он включён, после обновления прошивки через интернет. Atmosphere будет использована, даже если у вас SX OS, поскольку последний не умеет защищать предохранители после установки обновления через интернет. В запущенном таким образом SysNAND вы не сможете использовать пиратку, даже если очень захотите, однако [HBL](hbl){: target="blank_"} будет доступен, что позволит нам провести безопасное обновление прошивки. Этот метод активен по-умолчанию. 

Если вы используете {% include abbr/caffeine.txt abbr="Caffeine" %}, то для игры в лицензию вы запускаете не SysNAND, а EmuNAND, который специально для этого подготовили!
{: .notice--warning}

{% include inc/launch-hekate.txt %}
1. Перейдите в "**Launch**"
1. Запустите "**stock**" для запуска {% include abbr/sysnand.txt abbr="SysNAND" %}

### Запуск EmuNAND из стока, запущенного в Atmosphere 

1. Перезагрузите приставку через стандартное меню перезагрузки 
1. Приставка автоматически перезагрузится в EmuANND

### Настройка запуска чистого стока через hekate 

Если предыдущий метод запуска вам кажется небезопасным, то есть и другой вариант. Можно запускать сток через hekate не применяя вообще никаких системных патчей. У этого метода, однако, есть ряд существенных недостатков: 

* При случайном или намеренном обновлении через интернет, предохранители не будут сохранены
* При случайном или намеренном обновлении через интернет, будет отключен AutoRCM, если он был активен
* Нет возможности перезагрузиться в кастомную прошивку через меню Перезагрузки. То есть, для того, чтобы запустить кастом, вам необходимо выключить приставку и включить её с помощью {% include abbr/host.txt abbr="хоста" %} и проброса {% include abbr/payload.txt abbr="пейлоада" %}
* В чистом стоке нет блокировки отправки логов на сервера Nintendo 

Для того, чтобы активировать запуск чистого SysNAND: 
1. {% include inc/launch-hekate.txt %}
{% include inc/mount_sd.md %}
    * Либо просто достаньте карту из приставки, находясь в hekate 
1. Как закончите, [безопасно извлеките](https://ru.wikipedia.org/wiki/Безопасное_извлечение_устройства){:target="_blank"} вашу карту памяти из ПК (устройство будет называться "**UMS**") и нажмите в hekate "**Close**"
1. Откройте файл `bootloader/hekate_ips.ini` с помощью блокнота
1. Допишите `stock=1` в раздел `[Stock]`

    ![](/images/screenshots/stock.png)
    {: .text-center}
    {: .notice--info}

1. Запускайте чистый сток так же, как и обычный, через **Launch** =- **Stock**

### Запуск EmuNAND из чистого стока

1. Выключите приставку 
{% include inc/launch-cfw.txt %}

Помните, что файл конфигурации будет перезаписан при обновлении кефира **не** через скрипт. 
{: .notice--warning}

{% endspoiler %}


{% spoiler Запуск SX OS помощью донгла SX OS Pro %}

### Запуск EmuNAND

Запустите приставку с помощью донгла через [Fusée Gelée](fusee-gelee){:target="_blank"}. Приставка автоматически загрузится в SX OS

### Запуск SysNAND

1. Запустите приставку с помощью донгла через [Fusée Gelée](fusee-gelee){:target="_blank"}
1. Зажмите и удерживайте кнопку (VOL+) на загрузочном экране SX OS 
1. Выберите "**Boot Oficial FW**"

{% endspoiler %}



___

### Важно знать
* Действия которые вы выполняете в EmuNAND не влияют на состояние SysNAND и наоборот
* Если вы переносили в EmuNAND SysNAND, в котором уже были установлены игры, то в EmuNAND они работать не будут, до тех пор, пока вы не переместите папку `Nintendo` в папку `emummc`
* Форматирование (восстановление до заводских) SysNAND не влияет на EmuNAND и наоборот
* Если вы используете [{% include abbr/fusegele.txt abbr="Fusée Gelée" %}](fusee-gelee){:target="_blank"} для взлома, то вы можете обновить SysNAND, а не создавать для игры в лицензию отдельный emuMMC-раздел, до последней прошивки и использовать его для игры в лицензию, в том числе и онлайн. Это безопасно!
* **НИКОГДА! НИКОГДАНИКОГДАНИКОГДАНИКОГДА! Никогда, вы слышите, не обновляйте SysNAND, если вы используете [Caffeine](caffeine){:target="_blank"}** для запуска прошивки! Обновив SysNAND вы не сможете запустить взлом! В дальнейшем мы установим защиту на SysNAND, чтобы избежать случайного обновления! 

___

[Закрыть страницу](javascript:window.close();)
{: .notice--success}